<html>
<head>
<script>
function Get(url){
    var Httpreq = new XMLHttpRequest(); // a new request
    Httpreq.open("GET",url+'&_=' + new Date().getTime(),false);
    Httpreq.send(null);
    return Httpreq.responseText;          
}
 
setInterval(function(){
	if (Notification.permission !== 'granted')
		Notification.requestPermission();
 	var url = 'https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=581&date=11-05-2021';
	var json_obj = JSON.parse(Get(url));
	for (i = 0;i<json_obj.centers.length;i++) {
		for (j = 0;j<json_obj.centers[i].sessions.length;j++) {
			if (json_obj.centers[i].sessions[j].min_age_limit == 45 && json_obj.centers[i].sessions[j].available_capacity >= 0) {
				var notification = new Notification('Notification title', {
					icon: 'https://prod-cdn.preprod.co-vin.in/assets/images/covid19logo.jpg',
					body: 'New vaccine slot opened! ' + json_obj.centers[i].name,
				});
			}
		}
	}
 }, 10000);
</script>
</head>
<body>
</body>
</html>